<!-- CACHE_BUSTER 1746413698 --><!-- CACHE_BUSTER 1746413698 --><!-- CACHE_BUSTER 1746413698 --><!-- CACHE_BUSTER 1746413698 -->{% load i18n %}
{% extends 'layout.html' %}

{% block title %}Manage Reservations - Admin Dashboard{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Manage Reservations</h1>
        <a href="{{ url_for('admin.admin_index') }}" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-2"></i>Back to Dashboard
        </a>
    </div>
    
    <div class="card shadow">
        <div class="card-header bg-primary text-white">
            <ul class="nav nav-tabs card-header-tabs" id="reservationStatusTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active text-white" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab" aria-controls="all" aria-selected="true">
                        All Reservations
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link text-white" id="pending-tab" data-bs-toggle="tab" data-bs-target="#pending" type="button" role="tab" aria-controls="pending" aria-selected="false">
                        Pending
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link text-white" id="confirmed-tab" data-bs-toggle="tab" data-bs-target="#confirmed" type="button" role="tab" aria-controls="confirmed" aria-selected="false">
                        Confirmed
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link text-white" id="completed-tab" data-bs-toggle="tab" data-bs-target="#completed" type="button" role="tab" aria-controls="completed" aria-selected="false">
                        Completed
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link text-white" id="cancelled-tab" data-bs-toggle="tab" data-bs-target="#cancelled" type="button" role="tab" aria-controls="cancelled" aria-selected="false">
                        Cancelled
                    </button>
                </li>
            </ul>
        </div>
        <div class="card-body">
            <div class="tab-content" id="reservationStatusTabsContent">
                <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                    {% set filtered_reservations = reservations %}
                    {% include 'admin/reservation_table.html' %}
                </div>
                <div class="tab-pane fade" id="pending" role="tabpanel" aria-labelledby="pending-tab">
                    {% set filtered_reservations = reservations|selectattr('reservation.status', 'equalto', 'pending')|list %}
                    {% include 'admin/reservation_table.html' %}
                </div>
                <div class="tab-pane fade" id="confirmed" role="tabpanel" aria-labelledby="confirmed-tab">
                    {% set filtered_reservations = reservations|selectattr('reservation.status', 'equalto', 'confirmed')|list %}
                    {% include 'admin/reservation_table.html' %}
                </div>
                <div class="tab-pane fade" id="completed" role="tabpanel" aria-labelledby="completed-tab">
                    {% set filtered_reservations = reservations|selectattr('reservation.status', 'equalto', 'completed')|list %}
                    {% include 'admin/reservation_table.html' %}
                </div>
                <div class="tab-pane fade" id="cancelled" role="tabpanel" aria-labelledby="cancelled-tab">
                    {% set filtered_reservations = reservations|selectattr('reservation.status', 'equalto', 'cancelled')|list %}
                    {% include 'admin/reservation_table.html' %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
