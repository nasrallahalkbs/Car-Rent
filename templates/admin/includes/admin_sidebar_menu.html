{% load i18n %}
{% load static %}

<!-- القائمة الجانبية على اليمين -->
<div class="col-lg-2 admin-sidebar order-2">
    <div class="py-4 px-3">
        <div class="admin-logo-container mb-4 text-center">
            <img src="{% static 'images/car-rental-logo-white.svg' %}" alt="{% if is_english %}CarRental{% else %}كاررنتال{% endif %}" height="40" onerror="this.src='{% static 'images/logo.png' %}'; this.onerror='';">
        </div>
        
        <div class="sidebar-heading">{% trans "Dashboard" %}</div>
        <ul class="nav flex-column mb-0">
            <li class="nav-item">
                <a class="nav-link {% if request.path == '/dashboard/' or request.path == '/ar/dashboard/' %}active{% endif %}" 
                   href="{% url 'admin_index' %}">
                    <i class="fas fa-tachometer-alt {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Information Dashboard" %}
                </a>
            </li>
        </ul>
        
        <div class="sidebar-heading">{% trans "Analytical Reports" %}</div>
        <ul class="nav flex-column mb-0">
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/analytics' in request.path %}active{% endif %}" 
                   href="{% url 'admin_payment_analytics' %}">
                    <i class="fas fa-chart-line {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Analytical Reports" %}
                </a>
            </li>
        </ul>
        
        <div class="sidebar-heading">{% trans "Content Management" %}</div>
        <ul class="nav flex-column mb-0">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle {% if 'dashboard/cars' in request.path %}active{% endif %}" 
                   href="#" id="carsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-car {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Cars Management" %}
                </a>
                <ul class="dropdown-menu" aria-labelledby="carsDropdown">
                    <li><a class="dropdown-item" href="{% url 'admin_cars' %}">{% trans "View Cars" %}</a></li>
                    <li><a class="dropdown-item" href="{% url 'add_car' %}">{% trans "Add Car" %}</a></li>
                </ul>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/reservations' in request.path %}active{% endif %}" 
                   href="{% url 'admin_reservations' %}">
                    <i class="fas fa-calendar-alt {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Reservations Management" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/users' in request.path %}active{% endif %}" 
                   href="{% url 'admin_users' %}">
                    <i class="fas fa-users {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Users Management" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/payments' in request.path %}active{% endif %}" 
                   href="{% url 'admin_payments' %}">
                    <i class="fas fa-dollar-sign {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Payments Management" %}
                </a>
            </li>
        </ul>
        
        <!-- قسم الأرشيف الإلكتروني -->
        <div class="sidebar-heading">{% trans "Electronic Archive" %}</div>
        <ul class="nav flex-column mb-0">
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/archive' in request.path and not 'archive/add' in request.path and not 'archive/tree' in request.path and not 'archive/folders' in request.path %}active{% endif %}" 
                   href="{% url 'admin_archive' %}">
                    <i class="fas fa-folder-open {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Browse Archive" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/archive/folders' in request.path %}active{% endif %}" 
                   href="/ar/dashboard/archive/folders/">
                    <i class="fas fa-folder {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Folders Management" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/archive/tree' in request.path %}active{% endif %}" 
                   href="/ar/dashboard/archive/tree/">
                    <i class="fas fa-sitemap {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Folder Tree View" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/archive/add' in request.path %}active{% endif %}" 
                   href="/ar/dashboard/archive/add/">
                    <i class="fas fa-file-upload {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Add New Document" %}
                </a>
            </li>
        </ul>
        
        <!-- قسم توثيق حالة السيارات -->
        <div class="sidebar-heading">{% trans "Car Condition" %}</div>
        <ul class="nav flex-column mb-0">
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/car-condition/categories' in request.path %}active{% endif %}" 
                   href="{% url 'inspection_category_list' %}">
                    <i class="fas fa-list-ul {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Inspection Categories" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/car-condition/items' in request.path %}active{% endif %}" 
                   href="{% url 'inspection_item_list' %}">
                    <i class="fas fa-tasks {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Inspection Items" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/car-condition/inspection/create' in request.path %}active{% endif %}" 
                   href="{% url 'complete_car_inspection_create' %}">
                    <i class="fas fa-clipboard-check {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "New Inspection Report" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/car-condition/list' in request.path %}active{% endif %}" 
                   href="{% url 'car_condition_list' %}">
                    <i class="fas fa-clipboard-list {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "All Inspection Reports" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if 'dashboard/car-condition/repairs' in request.path %}active{% endif %}" 
                   href="{% url 'car_repair_list' %}">
                    <i class="fas fa-tools {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Repairs Management" %}
                </a>
            </li>
        </ul>
        
        <div class="sidebar-heading">{% trans "Settings" %}</div>
        <ul class="nav flex-column mb-0">
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-cog {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Site Settings" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-user-cog {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Profile" %}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-danger" href="{% url 'logout' %}">
                    <i class="fas fa-sign-out-alt {% if is_english %}me-2{% else %}ms-2{% endif %}"></i>
                    {% trans "Logout" %}
                </a>
            </li>
        </ul>
    </div>
</div>