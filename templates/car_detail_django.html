{% extends 'layout_django.html' %}
{% load static %}

{% block title %}{{ car.make }} {{ car.model }} - كاررنتال{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Car Hero Section -->
    <div class="car-hero-section">
        {% if car.image_url %}
        <img src="{{ car.image_url }}" class="car-hero-image" alt="{{ car.make }} {{ car.model }}">
        {% else %}
        <img src="{% static 'images/car-placeholder.svg' %}" class="car-hero-image" alt="{{ car.make }} {{ car.model }}">
        {% endif %}
        
        <div class="car-hero-overlay">
            <h1 class="car-hero-title">{{ car.make }} {{ car.model }}</h1>
            <p class="car-hero-subtitle">{{ car.year }} • {{ car.color }}</p>
            
            <div class="car-hero-badges">
                <div class="car-badge badge-category">
                    <i class="fas fa-car"></i> {{ car.category }}
                </div>
                <div class="car-badge badge-transmission">
                    <i class="fas fa-cog"></i> {{ car.transmission }}
                </div>
                <div class="car-badge badge-fuel">
                    <i class="fas fa-gas-pump"></i> {{ car.fuel_type }}
                </div>
                
                {% if car.is_available %}
                <div class="car-badge badge-available">
                    <i class="fas fa-check-circle"></i> متاحة
                </div>
                {% else %}
                <div class="car-badge badge-unavailable">
                    <i class="fas fa-times-circle"></i> غير متاحة
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <!-- Car Information Panels -->
            <!-- Car Specifications -->
            <div class="car-detail-panel animate-fade-in-up" style="animation-delay: 0.1s;">
                <div class="detail-panel-header">
                    <h3><i class="fas fa-info-circle"></i> مواصفات السيارة</h3>
                </div>
                <div class="detail-panel-body">
                    <div class="specs-grid">
                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-palette"></i>
                            </div>
                            <div class="spec-content">
                                <div class="spec-label">اللون</div>
                                <div class="spec-value">{{ car.color }}</div>
                            </div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="spec-content">
                                <div class="spec-label">عدد المقاعد</div>
                                <div class="spec-value">{{ car.seats }}</div>
                            </div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="spec-content">
                                <div class="spec-label">سنة الصنع</div>
                                <div class="spec-value">{{ car.year }}</div>
                            </div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-cog"></i>
                            </div>
                            <div class="spec-content">
                                <div class="spec-label">ناقل الحركة</div>
                                <div class="spec-value">{{ car.transmission }}</div>
                            </div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-gas-pump"></i>
                            </div>
                            <div class="spec-content">
                                <div class="spec-label">نوع الوقود</div>
                                <div class="spec-value">{{ car.fuel_type }}</div>
                            </div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-icon">
                                <i class="fas fa-tag"></i>
                            </div>
                            <div class="spec-content">
                                <div class="spec-label">الفئة</div>
                                <div class="spec-value">{{ car.category }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Car Features -->
            {% if car.feature_list %}
            <div class="car-detail-panel animate-fade-in-up" style="animation-delay: 0.2s;">
                <div class="detail-panel-header">
                    <h3><i class="fas fa-list"></i> المميزات</h3>
                </div>
                <div class="detail-panel-body">
                    <div class="features-list">
                        {% for feature in car.feature_list %}
                        <div class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div>{{ feature }}</div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
        
        <div class="col-lg-4">
            <!-- Reservation Card -->
            <div class="reservation-card animate-fade-in-up">
                <div class="reservation-card-header">
                    <h3>حجز هذه السيارة</h3>
                    <div class="d-flex align-items-baseline">
                        <div class="reservation-price">{{ car.daily_rate }}</div>
                        <div class="price-period ms-2">دينار/يوم</div>
                    </div>
                </div>
                
                <div class="reservation-card-body">
                    {% if car.is_available %}
                    <a href="{% url 'book_car' car_id=car.id %}" class="action-button d-block text-center text-decoration-none">
                        <i class="fas fa-calendar-check ms-2"></i> طلب الحجز
                    </a>
                    {% else %}
                    <div class="alert alert-warning mb-0">
                        <i class="fas fa-exclamation-triangle ms-2"></i>
                        عذراً، هذه السيارة غير متاحة للحجز حالياً.
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
